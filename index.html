<!DOCTYPE html>
<html lang="de">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Flashcards</title>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#FFD93D">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="stylesheet" href="style.css">

  <!-- External Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  
</head>

<body>
  <div id="print-overlay" style="display:none;"></div>
  <div id="print-area"></div>

  <main>
    <div class="menu-container">
      <div class="hamburger-icon" id="hamburgerIcon" title="tıkla / klicken">
        <span></span>
        <span></span>
        <span></span>
      </div>
      <div class="menu-content" id="menuContent">
        <div class="sheet-selector-container">
          <label for="sheetSelector" style="font-size: 0.8rem;">   &#10240;   &#10240;Sayfa Seçin:</label>
          <select id="sheetSelector"></select>
        </div>
        <div class="menu-bottom-actions">
          <button1 id="exportPdf"><span class="material-icons" style="vertical-align:middle;margin-right:8px;font-size:1.2em;">picture_as_pdf</span>PDF Dışa Aktar</button1>
          <button1 id="goToSheetBtn"><span class="material-icons" style="vertical-align:middle;margin-right:8px;font-size:1.2em;">add_box</span>Kart Ekle</button1>
          <button1 id="addDeckBtn"><span class="material-icons" style="vertical-align:middle;margin-right:8px;font-size:1.2em;">collections_bookmark</span>Deste Ekle</button1>
        </div>
        <button1 id="installPwaBtn"><span class="material-icons" style="vertical-align:middle;margin-right:8px;font-size:1.2em;">browser_updated</span>Masaüstüne Ekle</button1>
      </div>
    </div>



    <div class="controls">
      <div class="search-container">
        <input type="text" id="searchInput" placeholder="Ara..." class="search-input">
      </div>
      <div class="toggle-switch-container">
        <span id="toggleLabelDe" style="font-size: 0.8rem;">de</span>
        <label class="toggle-switch">
                    <input type="checkbox" id="toggleSwitch">
                    <span class="slider"></span>
                </label>
        <span id="toggleLabelTr" style="font-size: 0.8rem;">tr</span>
      </div>
    </div>

    <div id="flashcards"></div>

    <div class="navigation">
      <div class="nav-container">
        <div class="nav-left">
          <button id="prevBtn">&lt</button>
        </div>
        <div class="nav-counter" id="cardCounter">0 / 0</div>
        <div class="nav-right">
          <button id="nextBtn">&gt</button>
        </div>
      </div>
    </div>
    <!-- Kartı Sil butonu -->
    <div class="delete-fab-container">
      <div class="delete-fab-wrapper" style="position:relative;">
        <button id="deleteCardBtn" class="delete-fab" title="Kartı Sil">
          <span class="material-icons" style="font-size:1.2em;">delete</span>
        </button>
        <div class="delete-info-wrapper">
          <span class="info-circle" tabindex="0"><span class="material-icons" style="font-size:1em;">info</span></span>
          <span class="delete-tooltip">Kartı sil: Bu kartı kalıcı olarak siler.</span>
        </div>
      </div>
    </div>

    <!-- 1. db.json seç/ekle butonu (sadece ilk açılışta) -->
    <div id="dbJsonSelectorContainer" style="display:none; width:100%; text-align:center; margin-top:40px;">
      <div style="display:flex; justify-content:center; align-items:center; width:100%;">
        <button id="selectDbJsonBtn" style="padding:16px 32px; font-size:1.2rem; border-radius:10px; border:1px solid #ccc; background:#fff; cursor:pointer; font-weight:600; width:100%; max-width:320px; text-align:center; display:flex; justify-content:center; align-items:center;">db.json seç / ekle</button>
      </div>
      <div id="dbJsonSelectorInfo" style="margin-top:10px; color:#888; font-size:0.9rem;"></div>
    </div>

    <!-- 2. Yeni kayıt ekleme modalı -->
    <div id="addCardModal" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.4); z-index:2000; align-items:center; justify-content:center;">
      <div style="background:#fff; padding:24px; border-radius:12px; min-width:320px; max-width:90vw; box-shadow:0 4px 24px rgba(0,0,0,0.2);">
        <h3 style="text-align:center;">Yeni Kart Ekle</h3>
        <form id="addCardForm">
          <div style="margin-bottom:8px;">
            <select name="bir" required style="width:100%;padding:6px;">
              <option value="" disabled selected>(örn: substantiv)</option>
              <option value="substantiv">substantiv</option>
              <option value="verb">verb</option>
              <option value="adjektiv">adjektiv</option>
              <option value="adverb">adverb</option>
            </select>
          </div>
          <div style="margin-bottom:8px;"><input name="bir_iki" placeholder="" required style="width:100%;padding:6px;"></div>
          <div style="margin-bottom:8px;">
            <select name="bir_uc_artikel" style="width:100%;padding:6px;">
              <option value="" disabled selected>artikel</option>
              <option value="der">der</option>
              <option value="die">die</option>
              <option value="das">das</option>
            </select>
          </div>
          <div style="margin-bottom:8px;"><input name="bir_uc" placeholder="Almanca kelime" required style="width:100%;padding:6px;"></div>
          <div style="margin-bottom:8px;"><input name="bir_dort" placeholder="Almanca örnek cümle" style="width:100%;padding:6px;"></div>
          <div style="margin-bottom:8px;">
            <select name="iki" required style="width:100%;padding:6px;">
              <option value="" disabled selected>(örn: isim)</option>
              <option value="isim">isim</option>
              <option value="fiil">fiil</option>
              <option value="sifat">sıfat</option>
              <option value="zarf">zarf</option>
            </select>
          </div>
          <div style="margin-bottom:8px;"><input name="iki_iki" placeholder="Kelimenin Türkçe anlamı" style="width:100%;padding:6px;"></div>
          <div style="margin-bottom:8px;"><input name="iki_uc" placeholder="Cümlenin Türkçe anlamı" style="width:100%;padding:6px;"></div>
          <div style="display:flex; justify-content:center; align-items:center; gap:16px; margin-top:16px;">
            <button type="button" id="cancelAddCardBtn" style="padding:12px 32px; font-size:1.1rem; border-radius:8px; border:1px solid #ccc; background:#eee; cursor:pointer; font-weight:600; min-width:100px; text-align:center;">İptal</button>
            <button type="submit" style="padding:12px 32px; font-size:1.1rem; border-radius:8px; border:1px solid #222; background:#222; color:#fff; cursor:pointer; font-weight:700; min-width:100px; text-align:center;">Ekle</button>
          </div>
        </form>
      </div>
    </div>

    <!-- 3. Yeni deste ekleme modalı -->
    <div id="addDeckModal" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.4); z-index:2000; align-items:center; justify-content:center;">
      <div style="background:#fff; padding:24px; border-radius:12px; min-width:320px; max-width:90vw; box-shadow:0 4px 24px rgba(0,0,0,0.2);">
        <h3 style="text-align:center;">Yeni Deste Ekle</h3>
        <form id="addDeckForm">
          <div style="margin-bottom:16px;">
            <input name="deckName" placeholder="Deste adını girin" required style="width:100%;padding:12px;font-size:1.1rem;border:1px solid #ccc;border-radius:6px;">
          </div>
          <div id="deckError" style="color:#cc5353;font-size:0.9rem;margin-bottom:16px;display:none;"></div>
          <div style="display:flex; justify-content:center; align-items:center; gap:16px; margin-top:16px;">
            <button type="button" id="cancelAddDeckBtn" style="padding:12px 32px; font-size:1.1rem; border-radius:8px; border:1px solid #ccc; background:#eee; cursor:pointer; font-weight:600; min-width:100px; text-align:center;">İptal</button>
            <button type="submit" style="padding:12px 32px; font-size:1.1rem; border-radius:8px; border:1px solid #222; background:#222; color:#fff; cursor:pointer; font-weight:700; min-width:100px; text-align:center;">Ekle</button>
          </div>
        </form>
      </div>
    </div>
  </main>

  <script src="script.js"></script>

  <footer>
  </footer>

</body>
</html>
